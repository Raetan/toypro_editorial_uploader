<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<script type="text/x-mathjax-config">
 MathJax.Hub.Config({
 tex2jax: {
 inlineMath: [['$', '$'] ],
 displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
 }
 });
</script>

# No.220 Coprime - 500
## 誤答例
単純な解法としては実際に$A^B$、$B^A$を計算し、<br>
その最大公約数が1かどうか判定する方法が考えられます。<br>
この場合、次のようなコードになります。
```py
import math

A = 2
B = 5

if math.gcd(pow(A, B), pow(B, A)) == 1:
    print("Yes")
else:
    print("No")
```
「なんだ、これだけで解けるんじゃないか」と思うかもしれませんが、これで答え合わせをしてみると…
![](https://storage.googleapis.com/zenn-user-upload/7y8sg3bxg0q6cq2vswzau240nk1i)
長い時間待っても答え合わせが終わりません。
何が起こっているのでしょうか。

## 出てくる数字について
この問題では制約が$1 \leqq A, B \leqq 10^9$となっています。<br>
この場合、$A^B$を計算する時に最大で$10^{9 \times 10^9}$という途方もない数値になってしまいます。<br>
トイプロでは処理に5秒以上かかる場合、答え合わせが中断されるようになっているため、この解法では問題を解けないということになります。

## 想定解
「$A^B$と$B^A$が互いに素であるか」という問題を言い換えることはできないでしょうか？
実は、互いに素である整数の性質として、以下のようなものがあります。
> $A, Bが整数であり、n, mが自然数のとき、$
> $AとBが互いに素であるならばA^nとB^mも互いに素である$
> $また、逆にA^nとB^mが互いに素であるならば、AとBも互いに素である$

これはAとBが互いに素である場合、共通の素因数を持っていないということであり、<br>
ある数字をべき乗してもその素因数の種類は変わらないという性質から導くことができます。<br><br>
さて、以上のことを踏まえると、$A^B$と$B^A$が互いに素か判定するには$A$と$B$が互いに素か判定すれば良いということになります。<br>
### 実装例
```python
import math

A = 2
B = 5

if math.gcd(A, B) == 1:
    print("Yes")
else:
    print("No")
```
